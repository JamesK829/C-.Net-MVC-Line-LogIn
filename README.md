# C-.Net-MVC-Line-LogIn
#it's a reservation system with backend web which you can alter the information about product and enable reserve time. it also offers user to check the #reservation list and alter it.
#for the frontend user can log in via line account or sign up with phone number


#sql script
CREATE TABLE [MANAGER](
[ID] VARCHAR(32) NOT NULL,
[CID] NVARCHAR(20) NOT NULL,
[NAME] NVARCHAR(20) NOT NULL,
[AUTH] NVARCHAR(20) NOT NULL,
[ROLE] NVARCHAR(20) NOT NULL,
[CREATOR] NVARCHAR(20) NOT NULL,
[CREATE_TIME] DATETIME NOT NULL,
[MODIFIER] NVARCHAR(20) NOT NULL,
[MODIFY_TIME] DATETIME NOT NULL,
[STATUS] NVARCHAR(1) NOT NULL,
CONSTRAINT [PK_USER] PRIMARY KEY ([ID])
)


CREATE TABLE [PRODUCT_CATEGORY](
[ID] VARCHAR(32) NOT NULL,
[CATEGORY] NVARCHAR(20) NOT NULL,
[CREATOR] NVARCHAR(20) NOT NULL,
[CREATE_TIME] DATETIME NOT NULL,
[MODIFIER] NVARCHAR(20) NOT NULL,
[MODIFY_TIME] DATETIME NOT NULL,
[STATUS] NVARCHAR(1) NOT NULL,
CONSTRAINT [PK_PRODUCT_CATEGORY] PRIMARY KEY ([ID])
)

CREATE TABLE [PRODUCT](
[ID] VARCHAR(32) NOT NULL,
[CATEGORY_ID] VARCHAR(32) NOT NULL,
[PRODUCT] NVARCHAR(20) NOT NULL,
[CREATOR] NVARCHAR(20) NOT NULL,
[CREATE_TIME] DATETIME NOT NULL,
[MODIFIER] NVARCHAR(20) NOT NULL,
[MODIFY_TIME] DATETIME NOT NULL,
[STATUS] NVARCHAR(1) NOT NULL,
CONSTRAINT [PK_PRODUCT] PRIMARY KEY ([ID]),
CONSTRAINT [FK_PRODUCT_CATEGORY] FOREIGN KEY ([CATEGORY_ID]) REFERENCES [PRODUCT_CATEGORY] ([ID])
   ON DELETE CASCADE
   ON UPDATE CASCADE
)


CREATE TABLE [CUSTOMER](
[ID] VARCHAR(32) NOT NULL,
[LINE_ID] VARCHAR(40) NOT NULL,
[MOBILE] NVARCHAR(10) NOT NULL,
[NAME] NVARCHAR(20) NOT NULL,
[BIRTHDAY] DATETIME NOT NULL,
[CREATOR] NVARCHAR(20) NOT NULL,
[CREATE_TIME] DATETIME NOT NULL,
[MODIFIER] NVARCHAR(20) NOT NULL,
[MODIFY_TIME] DATETIME NOT NULL,
[STATUS] NVARCHAR(1) NOT NULL,
CONSTRAINT [PK_CUSTOMER] PRIMARY KEY ([ID])
)

CREATE TABLE [SERVE_TIME](
[ID] int identity(1,1) NOT NULL,
[DATE] int NOT NULL,
[TIME] NVARCHAR(15) NOT NULL,
CONSTRAINT [PK_SERVE_TIME] PRIMARY KEY ([ID])
)


CREATE TABLE [ORDER](
[ID] VARCHAR(32) NOT NULL,
[CUSTOMER_ID] VARCHAR(32) NOT NULL,
[PRODUCT_ID] VARCHAR(32) NOT NULL,
[DATE] DATETIME NOT NULL,
[TIME_ID] int NOT NULL,
[CREATOR] NVARCHAR(20) NOT NULL,
[CREATE_TIME] DATETIME NOT NULL,
[MODIFIER] NVARCHAR(20) NOT NULL,
[MODIFY_TIME] DATETIME NOT NULL,
[STATUS] NVARCHAR(1) NOT NULL,
CONSTRAINT [PK_ORDER] PRIMARY KEY ([ID]),
CONSTRAINT [FK_ORDER_TIME] FOREIGN KEY ([TIME_ID]) REFERENCES [SERVE_TIME] ([ID])
   ON DELETE CASCADE
   ON UPDATE CASCADE,
CONSTRAINT [FK_ORDER_CUSTOMER] FOREIGN KEY ([CUSTOMER_ID]) REFERENCES [CUSTOMER] ([ID])
   ON DELETE CASCADE
   ON UPDATE CASCADE,
CONSTRAINT [FK_ORDER_PRODUCT] FOREIGN KEY ([PRODUCT_ID]) REFERENCES [PRODUCT] ([ID])
   ON DELETE CASCADE
   ON UPDATE CASCADE,
)

  alter table [PRODUCT] add seq int null;

  insert into [PRODUCT_CATEGORY] values
   ('001','Body X Mind','Admin','2021-11-04','Admin','2021-11-04',1)
  ,('002','�������u�޲z','Admin','2021-11-04','Admin','2021-11-04',1)

    insert into [PRODUCT] values
	('011','001','�ͩR�ڰ򥭿�','Admin','2021-11-04','Admin','2021-11-04',1,1)
,('012','001','�ͩR�M��','Admin','2021-11-04','Admin','2021-11-04',1,2)
,('013','001','�F��۵M���k','Admin','2021-11-04','Admin','2021-11-04',1,3)
,('014','001','�������Žղz','Admin','2021-11-04','Admin','2021-11-04',1,4)
,('015','001','����b�Ư�q���k','Admin','2021-11-04','Admin','2021-11-04',1,5)
,('016','001','�Y���V���b��','Admin','2021-11-04','Admin','2021-11-04',1,6)

,('021','002','�b�ƺ�����J','Admin','2021-11-04','Admin','2021-11-04',1,1)
,('022','002','������ݬ��ƫO���ҵ{','Admin','2021-11-04','Admin','2021-11-04',1,2)
,('023','002','��o����-�߽����ūO���ҵ{','Admin','2021-11-04','Admin','2021-11-04',1,3)
,('024','002','���Ĳb�ƽղz','Admin','2021-11-04','Admin','2021-11-04',1,4)
,('025','002','�V�I���c�ղz','Admin','2021-11-04','Admin','2021-11-04',1,5)

alter table CUSTOMER add LINE_NAME NVARCHAR(30) NULL;
alter table CUSTOMER alter column LINE_ID NVARCHAR(50) NULL;

